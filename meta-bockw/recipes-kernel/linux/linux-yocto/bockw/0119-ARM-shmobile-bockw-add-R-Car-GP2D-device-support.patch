From 007e6c30da9e28c9d5929242dcb881a2ea9951fe Mon Sep 17 00:00:00 2001
From: Kazunori Kobayashi <kkobayas@igel.co.jp>
Date: Thu, 7 Mar 2013 16:07:55 +0900
Subject: [PATCH 119/138] ARM: shmobile: bockw: add R-Car GP2D device support

---
 arch/arm/mach-shmobile/board-bockw.c |   21 +++++++++++++++++++++
 1 files changed, 21 insertions(+), 0 deletions(-)

diff --git a/arch/arm/mach-shmobile/board-bockw.c b/arch/arm/mach-shmobile/board-bockw.c
index ab42b07..6039b9b 100644
--- a/arch/arm/mach-shmobile/board-bockw.c
+++ b/arch/arm/mach-shmobile/board-bockw.c
@@ -114,9 +114,30 @@ static struct platform_device rcar_du_device = {
 	},
 };
 
+static struct resource rcar_gp2d_resources[] = {
+	[0] = {
+		.name   = "GP2D",
+		.start  = 0xffe80000,
+		.end    = 0xffeaffff,
+		.flags  = IORESOURCE_MEM,
+	},
+	[1] = {
+		.start  = gic_spi(68),
+		.flags  = IORESOURCE_IRQ,
+	},
+};
+
+static struct platform_device rcar_gp2d_device = {
+	.name           = "gp2d",
+	.id             = -1,
+	.num_resources  = ARRAY_SIZE(rcar_gp2d_resources),
+	.resource       = rcar_gp2d_resources,
+};
+
 static struct platform_device *bockw_devices[] __initdata = {
 	&smsc911x_device,
 	&rcar_du_device,
+	&rcar_gp2d_device,
 };
 
 #define IRQ0MR		FPGA(0x18200030)
-- 
1.7.5.4

