From 535c531d88b9fb71ab3d0379c9f4caa6e6222b0f Mon Sep 17 00:00:00 2001
From: Koji Matsuoka <koji.matsuoka.xm@renesas.com>
Date: Mon, 17 Jun 2013 10:43:45 +0900
Subject: [PATCH 0499/1083] drm: rcar-du: Add FBIOPAN_DISPLAY triple buffer
 support

Signed-off-by: Koji Matsuoka <koji.matsuoka.xm@renesas.com>
(cherry picked from commit feb7613e3f08fa21f35a069baf6561bb20b61090)

Signed-off-by: Ryo Kataoka <ryo.kataoka.wt@renesas.com>
---
 drivers/gpu/drm/rcar-du/rcar_du_kms.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/drivers/gpu/drm/rcar-du/rcar_du_kms.c b/drivers/gpu/drm/rcar-du/rcar_du_kms.c
index a670211..3060ab7 100644
--- a/drivers/gpu/drm/rcar-du/rcar_du_kms.c
+++ b/drivers/gpu/drm/rcar-du/rcar_du_kms.c
@@ -26,7 +26,7 @@
 #include "rcar_du_regs.h"
 #include "rcar_du_vga.h"
 
-static bool rcar_du_fbdev_pan = false;
+static bool rcar_du_fbdev_pan = true;
 module_param_named(fb_cma_pan, rcar_du_fbdev_pan, bool, 0444);
 
 /* -----------------------------------------------------------------------------
@@ -251,7 +251,7 @@ int rcar_du_modeset_init(struct rcar_du_device *rcdu)
 
 	fbdev = drm_fbdev_cma_init(dev, 32, dev->mode_config.num_crtc,
 				   dev->mode_config.num_connector,
-				   rcar_du_fbdev_pan ? 2 : 1);
+				   rcar_du_fbdev_pan ? 3 : 1);
 	if (IS_ERR(fbdev))
 		return PTR_ERR(fbdev);
 
-- 
1.8.3.2

