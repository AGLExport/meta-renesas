From 5b074c48fbc5f308c2a42c89c119c0a1ceee9b94 Mon Sep 17 00:00:00 2001
From: Kazuya Mizuguchi <kazuya.mizuguchi.ks@renesas.com>
Date: Mon, 24 Aug 2015 15:43:59 +0900
Subject: [PATCH 78/85] arm64: dts: r8a7795: Add mstp7 node and enable HSUSB
 clock

Signed-off-by: Kazuya Mizuguchi <kazuya.mizuguchi.ks@renesas.com>
---
 arch/arm64/boot/dts/renesas/r8a7795.dtsi  |    6 +++---
 include/dt-bindings/clock/r8a7795-clock.h |    1 +
 2 files changed, 4 insertions(+), 3 deletions(-)

diff --git a/arch/arm64/boot/dts/renesas/r8a7795.dtsi b/arch/arm64/boot/dts/renesas/r8a7795.dtsi
index 66c71c2..11418fa 100644
--- a/arch/arm64/boot/dts/renesas/r8a7795.dtsi
+++ b/arch/arm64/boot/dts/renesas/r8a7795.dtsi
@@ -262,17 +262,17 @@
 					reg = <0 0xe615014c 0 4>, <0 0xe61501c4 0 4>;
 					clocks = <&s2d1_clk>, <&s2d1_clk>, <&s2d1_clk>,
 						 <&s2d1_clk>, <&s2d1_clk>, <&s2d1_clk>,
-						 <&s2d1_clk>;
+						 <&s2d1_clk>, <&p_clk>;
 					#clock-cells = <1>;
 					clock-indices = <
 						R8A7795_CLK_DU3 R8A7795_CLK_DU2
 						R8A7795_CLK_DU1 R8A7795_CLK_DU0
 						R8A7795_CLK_LVDS R8A7795_CLK_HDMI1
-						R8A7795_CLK_HDMI0
+						R8A7795_CLK_HDMI0 R8A7795_CLK_HSUSB
 					>;
 					clock-output-names =
 						"du3", "du2", "du1", "du0", "lvds0",
-						"hdmi1","hdmi0";
+						"hdmi1","hdmi0", "hsusb";
 				};
 
 				mstp9_clks: mstp9_clks@e6150994 {
diff --git a/include/dt-bindings/clock/r8a7795-clock.h b/include/dt-bindings/clock/r8a7795-clock.h
index 735645f..de1381c 100644
--- a/include/dt-bindings/clock/r8a7795-clock.h
+++ b/include/dt-bindings/clock/r8a7795-clock.h
@@ -51,6 +51,7 @@
 #define R8A7795_CLK_LVDS		27
 #define R8A7795_CLK_HDMI1		28
 #define R8A7795_CLK_HDMI0		29
+#define R8A7795_CLK_HSUSB		4
 
 /* MSTP8 */
 #define R8A7795_CLK_AVB		12
-- 
1.7.9.5

